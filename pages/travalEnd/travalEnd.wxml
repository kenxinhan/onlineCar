<!-- <loading hidden="{{hiddenLoading}}">数据加载中</loading> -->
<view class="container">
	<map class="map" id="map" style="width:{{ScreenTotalW}}rpx;height:{{ScreenTotalH}}rpx;" latitude="{{latitude}}" longitude="{{longitude}}" polyline="{{polyline}}" markers="{{markers}}" controls="{{controls}}" include-points='{{points}}' show-location="true">
	</map>

	<view class="total">
		<!-- <view wx:if="{{hasPay}}" class="over">
			<view class="h2">
				<view class="str">{{driver.srcName}}</view>
				<view class="car-img">
					<image src="../../assets/images/car.png"></image>
				</view>
				<view class="end">{{driver.desName}}</view>
			</view>
		</view> -->
		<view class="total-driver">
			<view class="driver_info">
				<view class="driver_img">
					<image class="driverImg" src="../../assets/images/driver.png" />
					<view class="name">{{driver.name}}</view>
				</view>

				<view class="driver_detailed">
					<view class="d_top">
						<view class="company">{{driver.company}}</view>
						<view>{{driver.orderTotal}}单</view>
					</view>

					<view class="d_md">
						<view class="detailed_Cartnumber">{{driver.licensePlate}}</view>
						<view class="d_id">编号：{{driver.idNo}}</view>
					</view>
					<view class="detailed_cart">{{driver.carDesc}}</view>

				</view>
			</view>
			<view class="driver-message">
				<view class="phone">
					<image style="width: 44rpx;height: 44rpx;" src="../../assets/images/common_icon_phone.png" />
				</view>
			</view>
		</view>


		<view class="payBox" wx:if="{{!isdriving}}">
			<view class="pay-total">共<text class="pay-total_num">{{driver.totalPrice}}</text>元</view>
			<view class="pay-detail">已优惠{{driver.preferentialPrice}}元</view>
			<view class="handle">
				<view class="detail" bindtap="toDetail">查看明细></view>
				<view class="contact" bindtap="toService">联系客服></view>
			</view>

			<button wx:if="{{!hasPay}}" class="pay-btn" bindtap="toPay">支付车费</button>
			<view wx:if="{{hasPay}}" class="close-to-home" bindtap="closeToHome">
				<image src="../../assets/images/close.png"></image>
			</view>

			<view wx:if="{{hasPay && !isFriend}}" class="addFriend" bindtap="addFriend">
				<image src="../../assets/images/add.png"></image>
				<view>加Ta好友司机</view>
			</view>
			<!-- 撑起底部 -->
			<view wx:if="{{hasPay && isFriend}}" style="width: 100%; height: 80rpx; margin: 20rpx 0"></view>
			<!-- 撑起底部 -->	
		</view>
	</view>
</view>

<!-- 多种支付方式 -->
<view class="mask" wx:if="{{showPayBox}}" bindtap="closePay">
	<view class="pay-box" catchtap="preventSomething">
		<view class="confirm-title">
			<text>支付</text><text>{{totalPrice}}元</text>
		</view>
		<view class="confirm-list">
			<view class="confirm-list-item" wx:for="{{payTypeData}}" wx:for-item="item" wx:key="name">
				<view>
					<image class="item-img" src="{{item.img}}"></image>
					<text>{{item.name}}</text>
				</view>
				<view>
					<radio-group class="radio-group" bindchange="radioChange">
						<radio class="radio-item" value="{{item.name}}" checked="{{item.checked}}"></radio>
					</radio-group>
				</view>
			</view>

		</view>
		<view class="confirm-bg">
			<view class="confirm-bottom">
				<button class="confirm-btn" catchtap="confirmPay">确认支付</button>
			</view>
		</view>
	</view>
</view>